<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2500.8px" preserveAspectRatio="none" style="width:1278px;height:2500px;background:#00000000;" version="1.1" viewBox="0 0 1278 2500" width="1278px" zoomAndPan="magnify"><defs><filter height="300%" id="f7darzpfazj2k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><linearGradient id="g7darzpfazj2k0" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFF00"/><stop offset="100%" stop-color="#0000FF"/></linearGradient><linearGradient id="g7darzpfazj2k1" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#0000FF"/><stop offset="100%" stop-color="#FFFFFF"/></linearGradient></defs><g><!--MD5=[b605930c54a7b5cabe598402510ea606]
cluster AdminModule--><path d="M141.6,211.2 L265.2,211.2 A7.2,7.2 0 0 1 270,216 L278.4,247.1625 L1158,247.1625 A4.8,4.8 0 0 1 1162.8,251.9625 L1162.8,2481.6 A4.8,4.8 0 0 1 1158,2486.4 L141.6,2486.4 A4.8,4.8 0 0 1 136.8,2481.6 L136.8,216 A4.8,4.8 0 0 1 141.6,211.2 " fill="#EEEEEE" filter="url(#f7darzpfazj2k)" style="stroke: #033C73; stroke-width: 1.7999999999999998;"/><line style="stroke: #033C73; stroke-width: 1.7999999999999998;" x1="136.8" x2="278.4" y1="247.1625" y2="247.1625"/><text fill="#033C73" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="147.6" y="232.9664">AdminModule</text><!--MD5=[d14a5e80aac7c50d9251bc3622ae104d]
cluster AdminModule_cfg--><rect fill="#EEEEEE" height="688.8" rx="4.8" ry="4.8" style="stroke: #444444; stroke-width: 2.4; stroke-dasharray: 7.0,7.0;" width="408" x="726" y="271.2"/><text fill="#444444" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="871.2" y="292.9664">Docker Config</text><!--MD5=[295f1b7d5caf5de2a78d466114522ddb]
cluster AdminPodCom--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="297.6" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="328.8" x="805.2" y="1509.6"/><path d="M1003.2,1510.8 L1003.2,1529.9625 L991.2,1541.9625 L805.2,1541.9625 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="814.8" y="1530.1664">Pod communications</text><!--MD5=[0cc7568451087a30db554c8d43f7fea9]
cluster AdminDataAccess--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="172.8" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="302.4" x="804" y="1875.6"/><path d="M931.2,1876.8 L931.2,1895.9625 L919.2,1907.9625 L804,1907.9625 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103.2" x="813.6" y="1896.1664">Data Access</text><!--MD5=[c94a2ce020338e5949030fc81766094f]
cluster AdminEntryPoint--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="384" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="374.4" x="190.8" y="340.8"/><path d="M308.4,342 L308.4,361.1625 L296.4,373.1625 L190.8,373.1625 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="200.4" y="361.3664">Entry Point</text><!--MD5=[ff43e428b2b3996eb57236215115fd95]
cluster AdminExecCommand--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="1650" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="531.6" x="165.6" y="807.6"/><path d="M343.2,808.8 L343.2,827.9625 L331.2,839.9625 L165.6,839.9625 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153.6" x="175.2" y="828.1664">Execute Command</text><!--MD5=[f30aaf73501d4d5a4a3b6634bd475f7d]
cluster AdminIndex--><path d="M726,2100 C726,2088 882.6,2088 882.6,2088 C882.6,2088 1039.2,2088 1039.2,2100 L1039.2,2334 C1039.2,2346 882.6,2346 882.6,2346 C882.6,2346 726,2346 726,2334 L726,2100 " fill="#FFFFFF" filter="url(#f7darzpfazj2k)" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><path d="M726,2100 C726,2112 882.6,2112 882.6,2112 C882.6,2112 1039.2,2112 1039.2,2100 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136.8" x="814.2" y="2133.7664">Questions Index</text><!--MD5=[8b39d1a61a2795262d45380b62d699ce]
cluster AdminRWLock--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="151.2" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="255.6" x="754.8" y="2166"/><path d="M850.8,2167.2 L850.8,2186.3625 L838.8,2198.3625 L754.8,2198.3625 " fill="none" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="764.4" y="2186.5664">RWLockÂ¹</text><!--MD5=[22f10ab43e3d8ecbd13cc959316eed0a]
entity AdminTopicRouting_note--><path d="M717,1076.4 L717,1194.675 A4.8,4.8 0 0 0 721.8,1199.475 L888.6,1199.475 A4.8,4.8 0 0 0 893.4,1194.675 L893.4,1083.6 L881.4,1071.6 L721.8,1071.6 A4.8,4.8 0 0 0 717,1076.4 " fill="#FFFFE0" filter="url(#f7darzpfazj2k)" style="stroke: #B0C4DE; stroke-width: 1.7999999999999998;"/><path d="M881.4,1071.6 L881.4,1078.8 A4.8,4.8 0 0 0 886.2,1083.6 L893.4,1083.6 " fill="#FFFFE0" style="stroke: #B0C4DE; stroke-width: 1.7999999999999998;"/><text fill="#4682B4" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140.4" x="735" y="1100.7387">NB: if last msg &lt; X mins</text><text fill="#4682B4" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="735" y="1126.7074">then GUI can send</text><text fill="#4682B4" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94.8" x="735" y="1152.6762">direct messages</text><text fill="#4682B4" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49.2" x="735" y="1178.6449">for tests</text><!--MD5=[a9705ed7ad48ab2284d4a1b66d7342d9]
entity AdminModule_vars--><path d="M744.6,326.4 L744.6,770.8781 A4.8,4.8 0 0 0 749.4,775.6781 L1110.6,775.6781 A4.8,4.8 0 0 0 1115.4,770.8781 L1115.4,333.6 L1103.4,321.6 L749.4,321.6 A4.8,4.8 0 0 0 744.6,326.4 " fill="#FFFFFF" filter="url(#f7darzpfazj2k)" style="stroke: #868E96; stroke-width: 1.7999999999999998;"/><path d="M1103.4,321.6 L1103.4,328.8 A4.8,4.8 0 0 0 1108.2,333.6 L1115.4,333.6 " fill="#FFFFFF" style="stroke: #868E96; stroke-width: 1.7999999999999998;"/><text fill="#868E96" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92.4" x="769.8" y="384.5227">Mandatory</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50.4" x="769.8" y="411.0574">RMQ_IP:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="823.8" y="411.0574">RMQ broker</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79.2" x="769.8" y="437.0262">GIT_SERVER:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106.8" x="852.6" y="437.0262">Git server address</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82.8" x="769.8" y="462.9949">GIT_BRANCH:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="94.8" x="856.2" y="462.9949">Kingdom branch</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="769.8" y="488.9637">DOMAIN:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="828.6" y="488.9637">Git DOMAIN</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82.8" x="769.8" y="514.9324">GIT_PROJECT:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="160.8" x="856.2" y="514.9324">Git project in $GIT_DOMAIN</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50.4" x="769.8" y="540.9012">TARGET:</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="205.2" x="823.8" y="540.9012">Pod's destination (ex: prod, test ...)</text><text fill="#868E96" font-family="Verdana" font-size="13.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="769.8" y="567.9838">Optional</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97.2" x="769.8" y="594.2355">RMQ_USER = ...</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116.4" x="769.8" y="620.2043">RMQ_PASSWD = ...</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118.8" x="769.8" y="646.173">RMQ_EXCHANGE =</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="892.2" y="646.173">amq.topic</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85.2" x="769.8" y="672.1418">RMQ_TOPIC =</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="231.6" x="858.6" y="672.1418">$GIT_DOMAIN.$GIT_PROJECT.$TARGET</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128.4" x="769.8" y="698.1105">ENCODER_QUEUE =</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80.4" x="901.8" y="698.1105">tbott-encoder</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80.4" x="769.8" y="724.0793">RMQ_PORT =</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="28.8" x="853.8" y="724.0793">5672</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81.6" x="769.8" y="750.048">LOG_LEVEL=</text><text fill="#868E96" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="30" x="855" y="750.048">INFO</text><line style="stroke: #868E96; stroke-width: 1.2;" x1="745.8" x2="880.2" y1="349.3781" y2="349.3781"/><text fill="#868E96" font-family="Verdana" font-size="16.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87.6" x="886.2" y="354.5941">Variables</text><line style="stroke: #868E96; stroke-width: 1.2;" x1="979.8" x2="1114.2" y1="349.3781" y2="349.3781"/><!--MD5=[3e6cc39773165a61674383732e1333fc]
entity AdminModule_vols--><path d="M826.8,832.8 L826.8,935.4938 A4.8,4.8 0 0 0 831.6,940.2937 L1028.4,940.2937 A4.8,4.8 0 0 0 1033.2,935.4938 L1033.2,840 L1021.2,828 L831.6,828 A4.8,4.8 0 0 0 826.8,832.8 " fill="#FFFFFF" filter="url(#f7darzpfazj2k)" style="stroke: #868E96; stroke-width: 1.7999999999999998;"/><path d="M1021.2,828 L1021.2,835.2 A4.8,4.8 0 0 0 1026,840 L1033.2,840 " fill="#FFFFFF" style="stroke: #868E96; stroke-width: 1.7999999999999998;"/><text fill="#868E96" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="852" y="888.6949">logs</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="883.2" y="888.6949">-&gt; /var/log/supervisor</text><text fill="#868E96" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="852" y="914.6637">data_dir</text><text fill="#868E96" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80.4" x="910.8" y="914.6637">-&gt; /opt/admin</text><line style="stroke: #868E96; stroke-width: 1.2;" x1="828" x2="883.2" y1="855.7781" y2="855.7781"/><text fill="#868E96" font-family="Verdana" font-size="16.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81.6" x="889.2" y="860.9941">Volumes</text><line style="stroke: #868E96; stroke-width: 1.2;" x1="976.8" x2="1032" y1="855.7781" y2="855.7781"/><!--MD5=[d2b0e5a6e4b9435a491ee30c6e9f8222]
entity ADM_MSG--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="227.775" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="290.4" x="824.4" y="1560"/><rect fill="#FFFFFF" height="12" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="18" x="1090.8" y="1566"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="1088.4" y="1568.4"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="1088.4" y="1573.2"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="33.6" x="848.4" y="1603.3664">from</text><a href="http://10.165.64.205/AI/Messaging" target="_top" title="http://10.165.64.205/AI/Messaging" xlink:actuate="onRequest" xlink:href="http://10.165.64.205/AI/Messaging" xlink:show="new" xlink:title="http://10.165.64.205/AI/Messaging" xlink:type="simple"><text fill="#0000FF" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="80.4" x="886.8" y="1603.3664">Messaging</text></a><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="106.8" x="972" y="1603.3664">import zeromq</text><line style="stroke: #2683B9; stroke-width: 1.2;" x1="825.6" x2="1113.6" y1="1612.7625" y2="1612.7625"/><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="189.6" x="855.6" y="1636.9289">zeromq.ThreadedWorker(</text><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="874.8" y="1665.6914"/><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111.6" x="874.8" y="1665.6914">callback_func</text><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="4.8" x="986.4" y="1665.6914">,</text><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="874.8" y="1694.4539">127.0.0.1,</text><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="874.8" y="1723.2164"/><text fill="#008080" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="874.8" y="1723.2164">14001</text><text fill="#008080" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="6" x="922.8" y="1723.2164">)</text><line style="stroke: #2683B9; stroke-width: 1.2;" x1="825.6" x2="1113.6" y1="1737.4125" y2="1737.4125"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="85.2" x="855.6" y="1761.5789">ThreadPool</text><!--MD5=[18d340d4b84bc25838f637ccab5136fc]
entity AdminGetData--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="103.125" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="262.8" x="823.8" y="1926"/><rect fill="#FFFFFF" height="12" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="18" x="1062.6" y="1932"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="1060.2" y="1934.4"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="1060.2" y="1939.2"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="148.8" x="847.8" y="1969.3664">get_all_categories()</text><line style="stroke: #2683B9; stroke-width: 1.2;" x1="825" x2="1085.4" y1="1978.7625" y2="1978.7625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="188.4" x="855" y="2002.9289">get_questions_from_ids()</text><!--MD5=[fcbde464ea5a1f77691284702ee22d40]
entity ADMIN_MSG_C--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="314.0625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="334.8" x="210.6" y="391.2"/><rect fill="#FFFFFF" height="12" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="18" x="521.4" y="397.2"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="519" y="399.6"/><rect fill="#FFFFFF" height="2.4" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="4.8" x="519" y="404.4"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="33.6" x="234.6" y="434.5664">from</text><a href="http://10.165.64.205/AI/Messaging" target="_top" title="http://10.165.64.205/AI/Messaging" xlink:actuate="onRequest" xlink:href="http://10.165.64.205/AI/Messaging" xlink:show="new" xlink:title="http://10.165.64.205/AI/Messaging" xlink:type="simple"><text fill="#0000FF" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="80.4" x="273" y="434.5664">Messaging</text></a><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="358.2" y="434.5664">import topic_routing</text><line style="stroke: #2683B9; stroke-width: 1.2;" x1="211.8" x2="544.2" y1="443.9625" y2="443.9625"/><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109.2" x="241.8" y="468.1289">backend_com(</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45.6" x="241.8" y="496.8914">host=</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="287.4" y="496.8914">$RMQ_IP</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="176.4" x="241.8" y="525.6539">username=$RMQ_USER</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="195.6" x="241.8" y="554.4164">password=$RMQ_PASSWD</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="213.6" x="241.8" y="583.1789">exchange=$RMQ_EXCHANGE</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="183.6" x="241.8" y="611.9414">topic=$COMMAND_TOPIC</text><text fill="#008080" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="133.2" x="241.8" y="640.7039">port=$RPC_PORT)</text><line style="stroke: #2683B9; stroke-width: 1.2;" x1="211.8" x2="544.2" y1="654.9" y2="654.9"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="128.4" x="241.8" y="679.0664">on_request(msg)</text><!--MD5=[30b6bf9c817ebd9136ffc83c562e217c]
entity AdminTopicRouting--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="134.4" x="388.8" y="858"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="382.8" y="864"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="382.8" y="898.7625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="406.8" y="889.3664">Topic routing</text><!--MD5=[57bc4c5f3c154770187e12442531d4b6]
entity AdminRes--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="79.2" x="258" y="858"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="252" y="864"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="252" y="898.7625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="276" y="889.3664">result</text><!--MD5=[3ae2938487bb651daf5a025e8d6a789e]
entity AdminMasterCmd--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="147.6" x="223.8" y="1109.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="217.8" y="1115.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="217.8" y="1150.1625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="111.6" x="241.8" y="1140.7664">Test questions</text><!--MD5=[7da668664257ef4d12b819845662fc1e]
entity AdminElectMaster--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="217.2" x="460.2" y="1109.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="454.2" y="1115.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="454.2" y="1150.1625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="181.2" x="478.2" y="1140.7664">Master Election process</text><!--MD5=[948b7ff905f0829725470951a71decbb]
entity AdminCheckout--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="188.4" x="369" y="1261.2"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="363" y="1267.2"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="363" y="1301.9625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="152.4" x="387" y="1292.5664">Checkout git project</text><!--MD5=[4f7f63c120c1b1ae1979b448a54e23f9]
entity AdminGetDiff--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="175.2" x="307.2" y="1346.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="301.2" y="1352.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="301.2" y="1387.1625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="139.2" x="325.2" y="1377.7664">Get git differences</text><!--MD5=[1f47b4557b59eea1fe0a3fe867fc58e8]
entity AdminCreateQuestions--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="211.2" x="272.4" y="1424.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="266.4" y="1430.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="266.4" y="1465.1625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="175.2" x="290.4" y="1455.7664">Create list of questions</text><!--MD5=[cee07e8dca7fe5b378072308c87c61c2]
entity AdminDataAugment--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="110.2875" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="218.4" x="265.2" y="1618.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="259.2" y="1624.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="259.2" y="1717.0875"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="146.4" x="283.2" y="1650.1664">Data augmentation</text><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="114" x="283.2" y="1678.9289">with N1 and N2</text><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="182.4" x="283.2" y="1707.6914">categories (or contexts)</text><!--MD5=[74b2590a88666c07f27544f72ab65a63]
entity AdminEncodeSent--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="264" x="241.2" y="1951.2"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="235.2" y="1957.2"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="235.2" y="1991.9625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="228" x="259.2" y="1982.5664">Get vectors from Bert encoder</text><!--MD5=[bbd02ffc9a62cd4a1682067ac6c62d62]
entity AdminCreateIndex--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="270" x="238.2" y="2230.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="232.2" y="2236.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="232.2" y="2271.5625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="234" x="256.2" y="2262.1664">Create/Update questions index</text><!--MD5=[38d59ea5521f52b01dd21fb50af62908]
entity FaissCmd--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="375.6" x="185.4" y="2385.6"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="179.4" y="2391.6"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="179.4" y="2426.3625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="339.6" x="203.4" y="2416.9664">Send command to create/update FAISS index</text><!--MD5=[8a24ae891035ef3308c41c178b1fa79b]
entity admin_read--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="52.7625" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="70.8" x="919.8" y="2230.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="913.8" y="2236.8"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="913.8" y="2271.5625"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="34.8" x="937.8" y="2262.1664">read</text><!--MD5=[bbdefe950abe5f950e0a4edbb7f6667d]
entity admin_write--><rect fill="#FFFFFF" filter="url(#f7darzpfazj2k)" height="81.525" rx="4.8" ry="4.8" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="109.2" x="774.6" y="2216.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="768.6" y="2222.4"/><rect fill="#FFFFFF" height="6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;" width="12" x="768.6" y="2285.925"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44.4" x="792.6" y="2247.7664">write</text><text fill="#2683B9" font-family="Verdana" font-size="14.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73.2" x="792.6" y="2276.5289">prioritized</text><!--MD5=[34294aea9f4d19809f3e5e3ec75b4474]
entity AdminRMQ_IN--><ellipse cx="378" cy="21" fill="#FFFFFF" filter="url(#f7darzpfazj2k)" rx="9.6" ry="9.6" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><path d="M378,30.6 L378,63 M362.4,40.2 L393.6,40.2 M378,63 L362.4,81 M378,63 L393.6,81 " fill="none" filter="url(#f7darzpfazj2k)" style="stroke: #2683B9; stroke-width: 1.7999999999999998;"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="340.2" y="106.9664">Admin GUI</text><!--MD5=[6f7dc82b214bb18c594236e7c40192b9]
entity AdminPodComInterface--><ellipse cx="1226.4" cy="1645.2" fill="url(#g7darzpfazj2k0)" filter="url(#f7darzpfazj2k)" rx="14.4" ry="14.4" style="stroke: #6F42C1; stroke-width: 2.4;"/><line style="stroke: #6F42C1; stroke-width: 2.4;" x1="1212" x2="1240.8" y1="1662" y2="1662"/><text fill="#000000" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="1188.6" y="1683.7664">Find Reply</text><text fill="#000000" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="1188.6" y="1712.5289">requests</text><!--MD5=[1350349b64f67f07b4dbf1d89d7f0ce2]
entity GitRepo--><ellipse cx="79.2" cy="1273.2" fill="#FFFFFF" filter="url(#f7darzpfazj2k)" rx="14.4" ry="14.4" style="stroke: #2683B9; stroke-width: 2.4;"/><line style="stroke: #2683B9; stroke-width: 2.4;" x1="64.8" x2="93.6" y1="1290" y2="1290"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="63.6" x="47.4" y="1311.7664">Git Repo</text><!--MD5=[f548a745fcdbafc3f0ef48ed99eb1063]
entity FindReply--><ellipse cx="73.2" cy="1121.4" fill="url(#g7darzpfazj2k0)" filter="url(#f7darzpfazj2k)" rx="14.4" ry="14.4" style="stroke: #6F42C1; stroke-width: 2.4;"/><line style="stroke: #6F42C1; stroke-width: 2.4;" x1="58.8" x2="87.6" y1="1138.2" y2="1138.2"/><text fill="#000000" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="35.4" y="1159.9664">Find Reply</text><!--MD5=[30f41b3f3655a269d4ffe2f3bbb65e5c]
entity AdminEncoder--><ellipse cx="62.4" cy="1963.2" fill="#FFFFFF" filter="url(#f7darzpfazj2k)" rx="14.4" ry="14.4" style="stroke: #2683B9; stroke-width: 2.4;"/><line style="stroke: #2683B9; stroke-width: 2.4;" x1="48" x2="76.8" y1="1980" y2="1980"/><text fill="#2683B9" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="13.2" y="2001.7664">Bert Encoder</text><!--MD5=[3ceae401b49d0ad0fe702da941d15e72]
entity Faiss--><ellipse cx="92.4" cy="2397.6" fill="url(#g7darzpfazj2k1)" filter="url(#f7darzpfazj2k)" rx="14.4" ry="14.4" style="stroke: #6F42C1; stroke-width: 2.4;"/><line style="stroke: #6F42C1; stroke-width: 2.4;" x1="78" x2="106.8" y1="2414.4" y2="2414.4"/><text fill="#000000" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="73.2" y="2436.1664">Faiss</text><!--MD5=[d8ad0576e63a5c96f5104d1e600ce3cf]
link AdminModule_vars to AdminModule_vols--><!--MD5=[a880360c973bd7206259c48c66bbb0c3]
link ADM_MSG to AdminPodComInterface--><path d="M1130.8536,1674 C1142.8176,1674 1168.0704,1674 1168.0704,1674 " fill="none" id="ADM_MSG-AdminPodComInterface" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#00000000" points="1182.4704,1674,1175.2704,1669.2,1168.0704,1674,1175.2704,1678.8,1182.4704,1674" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="1115.0532,1674,1125.8532,1678.8,1121.0532,1674,1125.8532,1669.2,1115.0532,1674" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="1121.0532" x2="1130.6532" y1="1674" y2="1674"/><!--MD5=[161b4f821b40196ae448ae33be1c1f96]
link ADM_MSG to AdminGetData--><path d="M885.9976,1801.3422 C885.9976,1801.3422 879.4092,1818.5496 877.2,1826.4 C868.8048,1856.2356 880.6068,1886.9784 897.3708,1912.8048 " fill="none" id="ADM_MSG-AdminGetData" style="stroke: #2FA4E7; stroke-width: 3.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#2FA4E7" points="906.51,1925.8308,904.2357,1914.2331,903.0636,1920.9193,896.3773,1919.7473,906.51,1925.8308" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="903.0636" x2="897.5502" y1="1920.9193" y2="1913.0598"/><polygon fill="#00000000" points="891.7896,1788.1584,884.499,1792.8197,885.9976,1801.3422,893.2882,1796.681,891.7896,1788.1584" style="stroke: #2FA4E7; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="68.4" x="884.4" y="1846.9664">Thread N</text><!--MD5=[161b4f821b40196ae448ae33be1c1f96]
link ADM_MSG to AdminGetData--><path d="M965.9667,1802.7082 C965.9667,1802.7082 964.4688,1839.5532 963.6,1856.4 C962.7024,1873.806 961.4976,1892.6148 960.282,1910.064 " fill="none" id="ADM_MSG-AdminGetData-1" style="stroke: #2FA4E7; stroke-width: 3.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#2FA4E7" points="959.1696,1925.6268,964.7276,1915.1966,959.5975,1919.6421,955.152,1914.512,959.1696,1925.6268" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="959.5975" x2="960.2814" y1="1919.6421" y2="1910.0658"/><polygon fill="#00000000" points="966.4968,1788.318,961.435,1795.3364,965.9667,1802.7082,971.0285,1795.6898,966.4968,1788.318" style="stroke: #2FA4E7; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="90" x="972" y="1846.9664">Thread N+1</text><!--MD5=[207e72fa839d5fbe1d55f6fd1ad6ab8b]
link AdminRMQ_IN to ADMIN_MSG_C--><path d="M378,131.208 C378,131.208 378,291.048 378,374.7 " fill="none" id="AdminRMQ_IN-ADMIN_MSG_C" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="378,390.708,382.8,379.908,378,384.708,373.2,379.908,378,390.708" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="378" x2="378" y1="384.708" y2="375.108"/><polygon fill="#00000000" points="378,116.808,373.2,124.008,378,131.208,382.8,124.008,378,116.808" style="stroke: #2FA4E7; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="26.4" x="409.2" y="148.9664">Get</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="74.4" x="385.2" y="165.7289">Command</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="406.8" y="182.4914">msg</text><path d="M369.5147,230.0698 A12,12 0 0 0 386.4853 230.0698" fill="#FFFFFF" style="stroke: #2FA4E7; stroke-width: 1.7999999999999998;"/><ellipse cx="378" cy="221.5845" fill="#FFFFFF" rx="7.2" ry="7.2" style="stroke: #2FA4E7; stroke-width: 1.7999999999999998;"/><!--MD5=[05f2d316a2854592e355c379cbdd0482]
link ADMIN_MSG_C to AdminTopicRouting--><path d="M414.4884,705.66 C427.4028,760.896 440.6868,817.704 448.6428,851.736 " fill="none" id="ADMIN_MSG_C-&gt;AdminTopicRouting" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="450.0648,857.82,452.2697,846.2089,448.6936,851.9788,442.9237,848.4027,450.0648,857.82" style="stroke: #2FA4E7; stroke-width: 3.0;"/><!--MD5=[4c9096fdbcf848321e0c6eb073607278]
reverse link ADMIN_MSG_C to AdminRes--><path d="M338.9796,711.504 C325.2888,768.312 311.4144,825.876 303.7176,857.82 " fill="none" id="ADMIN_MSG_C&lt;-AdminRes" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="340.3896,705.66,333.1932,715.035,338.984,711.493,342.526,717.2839,340.3896,705.66" style="stroke: #2FA4E7; stroke-width: 3.0;"/><!--MD5=[5225f55ac77ba120e2bf4c0ea00a594b]
link AdminTopicRouting to AdminTopicRouting_note--><path d="M511.2396,910.884 C546.7476,928.152 593.178,952.632 631.2,979.2 C670.212,1006.452 710.0676,1041.432 741.7752,1071.3 " fill="none" id="AdminTopicRouting-AdminTopicRouting_note" style="stroke: #B0C4DE; stroke-width: 3.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[4d2f5655057594c0842f128345eaf713]
link AdminTopicRouting to AdminElectMaster--><path d="M467.4372,910.848 C488.2536,956.796 532.2636,1053.948 554.8224,1103.748 " fill="none" id="AdminTopicRouting-&gt;AdminElectMaster" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="557.3328,1109.292,557.2614,1097.4736,554.8629,1103.8239,548.5126,1101.4254,557.3328,1109.292" style="stroke: #868E96; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="72" x="541.8" y="999.7664">$DOMAIN.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="540" y="1016.5289">$PROJECT.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="70.8" x="542.4" y="1033.2914">$TARGET.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="12" x="571.8" y="1050.0539">#</text><!--MD5=[2a95df7b465d132a6b9da6286f12157c]
reverse link AdminMasterCmd to AdminElectMaster--><path d="M377.814,1135.8 C403.4748,1135.8 432.33,1135.8 459.6888,1135.8 " fill="none" id="AdminMasterCmd&lt;-AdminElectMaster" style="stroke: #73A839; stroke-width: 3.0;"/><polygon fill="#73A839" points="371.706,1135.8,382.506,1140.6,377.706,1135.8,382.506,1131,371.706,1135.8" style="stroke: #73A839; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="396.6" y="1122.7664">tests</text><!--MD5=[1ff34ecb74c11c30842a6efc9d21ea52]
link FindReply to AdminMasterCmd--><path d="M133.2144,1135.8 C156.156,1135.8 209.3616,1135.8 209.3616,1135.8 " fill="none" id="FindReply-AdminMasterCmd" style="stroke: #73A839; stroke-width: 3.0;"/><polygon fill="#00000000" points="223.7616,1135.8,216.5616,1131,209.3616,1135.8,216.5616,1140.6,223.7616,1135.8" style="stroke: #73A839; stroke-width: 3.0;"/><polygon fill="#73A839" points="117.5342,1135.8,128.3342,1140.6,123.5342,1135.8,128.3342,1131,117.5342,1135.8" style="stroke: #73A839; stroke-width: 3.0;"/><line style="stroke: #73A839; stroke-width: 3.0;" x1="123.5342" x2="133.134" y1="1135.8" y2="1135.8"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="151.2" y="1122.7664">tests</text><!--MD5=[ceb9a6fc2cc7233f511548f0765e3935]
reverse link AdminRes to AdminMasterCmd--><path d="M297.6,916.992 C297.6,966.924 297.6,1063.476 297.6,1109.292 " fill="none" id="AdminRes&lt;-AdminMasterCmd" style="stroke: #73A839; stroke-width: 3.0;"/><polygon fill="#73A839" points="297.6,910.848,292.8,921.648,297.6,916.848,302.4,921.648,297.6,910.848" style="stroke: #73A839; stroke-width: 3.0;"/><!--MD5=[0dad4168e4efe0beaad5829df07447dd]
link AdminTopicRouting to AdminMasterCmd--><path d="M439.9404,910.848 C410.6472,956.892 348.6564,1054.344 317.0352,1104.048 " fill="none" id="AdminTopicRouting-&gt;AdminMasterCmd" style="stroke: #73A839; stroke-width: 3.0;"/><polygon fill="#73A839" points="313.7028,1109.292,323.5519,1102.7594,316.9251,1104.2307,315.4538,1097.6038,313.7028,1109.292" style="stroke: #73A839; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="72" x="405" y="999.7664">$DOMAIN.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="403.2" y="1016.5289">$PROJECT.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="70.8" x="405.6" y="1033.2914">$TARGET.</text><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="414.6" y="1050.0539">master</text><!--MD5=[0948f74fcacb2d9ea1189fa5d9bc5444]
link AdminElectMaster to AdminCheckout--><path d="M550.8864,1162.344 C532.6056,1188.204 504.2256,1228.356 484.7328,1255.932 " fill="none" id="AdminElectMaster-&gt;AdminCheckout" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="481.2012,1260.936,491.3545,1254.887,484.6643,1256.0363,483.5149,1249.3461,481.2012,1260.936" style="stroke: #868E96; stroke-width: 3.0;"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="108" x="520.8" y="1232.5664">create/update</text><!--MD5=[2bb20cfee9d28421044400fd2ab6faa3]
link GitRepo to AdminCheckout--><path d="M132.786,1287.6 C189.468,1287.6 354.3084,1287.6 354.3084,1287.6 " fill="none" id="GitRepo-AdminCheckout" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#00000000" points="368.7084,1287.6,361.5084,1282.8,354.3084,1287.6,361.5084,1292.4,368.7084,1287.6" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="117.0703,1287.6,127.8703,1292.4,123.0703,1287.6,127.8703,1282.8,117.0703,1287.6" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="123.0703" x2="132.6708" y1="1287.6" y2="1287.6"/><text fill="#343A40" font-family="Verdana" font-size="14.4" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="196.2" y="1274.5664">git checkout</text><!--MD5=[373cd4a603c7e4e571c2231b86949ca2]
link AdminCheckout to AdminGetDiff--><path d="M442.3056,1314.0924 C435.2784,1322.5992 427.3632,1332.1812 420.0372,1341.0492 " fill="none" id="AdminCheckout-&gt;AdminGetDiff" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="416.0376,1345.8912,426.6168,1340.6224,419.8591,1341.2656,419.2158,1334.5079,416.0376,1345.8912" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[beef9926e2c5ee934968683c3840b7fb]
link AdminGetDiff to AdminCreateQuestions--><path d="M389.112,1399.5948 C387.7992,1405.506 386.3856,1411.8636 385.0224,1417.9968 " fill="none" id="AdminGetDiff-&gt;AdminCreateQuestions" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="383.682,1424.0316,390.7123,1414.5314,384.9847,1418.1747,381.3413,1412.4471,383.682,1424.0316" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[33d6c34bdc3c97fdc915ab73f2efbd8a]
link AdminCreateQuestions to AdminDataAugment--><path d="M377.5872,1477.3284 C377.0556,1509.9336 376.1148,1567.6596 375.3924,1611.9552 " fill="none" id="AdminCreateQuestions-&gt;AdminDataAugment" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="375.2868,1618.3884,380.262,1607.668,375.3845,1612.3892,370.6633,1607.5117,375.2868,1618.3884" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[e142ed951ab3bd9a951e6421b54861b4]
link AdminDataAugment to AdminEncodeSent--><path d="M374.184,1729.3968 C373.9332,1792.254 373.5288,1893.7668 373.326,1944.8688 " fill="none" id="AdminDataAugment-&gt;AdminEncodeSent" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="373.3008,1951.1412,378.144,1940.3605,373.3248,1945.1412,368.544,1940.3221,373.3008,1951.1412" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[3080444d37a1a34cb0940019019e82ef]
link AdminEncoder to AdminEncodeSent--><path d="M133.5324,1977.6 C164.0172,1977.6 226.5276,1977.6 226.5276,1977.6 " fill="none" id="AdminEncoder-AdminEncodeSent" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#00000000" points="240.9276,1977.6,233.7276,1972.8,226.5276,1977.6,233.7276,1982.4,240.9276,1977.6" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="117.6398,1977.6,128.4398,1982.4,123.6398,1977.6,128.4398,1972.8,117.6398,1977.6" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="123.6398" x2="133.2396" y1="1977.6" y2="1977.6"/><path d="M199.9471,1986.0853 A12,12 0 0 0 199.9471 1969.1147" fill="#FFFFFF" style="stroke: #2FA4E7; stroke-width: 1.7999999999999998;"/><ellipse cx="191.4618" cy="1977.6" fill="#FFFFFF" rx="7.2" ry="7.2" style="stroke: #2FA4E7; stroke-width: 1.7999999999999998;"/><!--MD5=[cd998805e4abec9f9d013031dc286952]
link AdminEncodeSent to AdminCreateIndex--><path d="M373.2,2004.3816 C373.2,2055.2292 373.2,2168.8728 373.2,2224.3344 " fill="none" id="AdminEncodeSent-&gt;AdminCreateIndex" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="373.2,2230.4808,378,2219.6808,373.2,2224.4808,368.4,2219.6808,373.2,2230.4808" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[c32669d37447130dd048e6b818f94c26]
link AdminCreateIndex to FaissCmd--><path d="M373.2,2283.9084 C373.2,2310.0624 373.2,2350.7976 373.2,2379.0288 " fill="none" id="AdminCreateIndex-&gt;FaissCmd" style="stroke: #868E96; stroke-width: 3.0;"/><polygon fill="#868E96" points="373.2,2385.2088,378,2374.4088,373.2,2379.2088,368.4,2374.4088,373.2,2385.2088" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[ddf4fc091b15e2852ba24a66e0052d24]
reverse link Faiss to FaissCmd--><path d="M123.9457,2412 C144.3024,2412 164.6592,2412 185.0148,2412 " fill="none" id="Faiss&lt;-FaissCmd" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="117.6281,2412,128.4281,2416.8,123.6281,2412,128.4281,2407.2,117.6281,2412" style="stroke: #2FA4E7; stroke-width: 3.0;"/><!--MD5=[8eeabb91a2cec4330e31fa074233d349]
reverse link AdminRes to FaissCmd--><path d="M273.7656,916.092 C240.9864,961.164 186,1049.472 186,1134.6 C186,1134.6 186,1134.6 186,2258.4 C186,2304.108 187.4772,2323.0836 219.6,2355.6 C232.0464,2368.1988 247.5708,2377.9368 263.928,2385.4584 " fill="none" id="AdminRes&lt;-FaissCmd" style="stroke: #868E96; stroke-width: 3.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#868E96" points="277.6476,910.812,267.3864,916.6762,274.0964,915.6482,275.1243,922.3581,277.6476,910.812" style="stroke: #868E96; stroke-width: 3.0;"/><!--MD5=[7d7c4698a3ee1f0a3199bb6957a51026]
link admin_write to AdminCreateIndex--><path d="M758.7972,2257.2 C680.7552,2257.2 522.9744,2257.2 522.9744,2257.2 " fill="none" id="admin_write-AdminCreateIndex" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#00000000" points="508.5744,2257.2,515.7744,2262,522.9744,2257.2,515.7744,2252.4,508.5744,2257.2" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="774.4056,2257.2,763.6056,2252.4,768.4056,2257.2,763.6056,2262,774.4056,2257.2" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="768.4056" x2="758.8056" y1="2257.2" y2="2257.2"/><!--MD5=[c1ca2f670ffc9642e337c8d84635929b]
link AdminGetData to admin_read--><path d="M955.2,2043.72 C955.2,2043.72 955.2,2170.2936 955.2,2215.056 " fill="none" id="AdminGetData-admin_read" style="stroke: #2FA4E7; stroke-width: 3.0;"/><polygon fill="#2FA4E7" points="955.2,2230.7604,960,2219.9604,955.2,2224.7604,950.4,2219.9604,955.2,2230.7604" style="stroke: #2FA4E7; stroke-width: 3.0;"/><line style="stroke: #2FA4E7; stroke-width: 3.0;" x1="955.2" x2="955.2" y1="2224.7604" y2="2215.1604"/><polygon fill="#00000000" points="955.2,2029.32,950.4,2036.52,955.2,2043.72,960,2036.52,955.2,2029.32" style="stroke: #2FA4E7; stroke-width: 3.0;"/><!--MD5=[e63d1568f7afc34f40a1bbbc4c215c75]
@startuml Admin_Full




skinparam backgroundColor White








skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             True
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor $SUCCESS_DARK
    IBackgroundColor #D2494E
    IBorderColor $DANGER_DARK
    EBackgroundColor #E47833
    EBorderColor $WARNING_DARK
    NBackgroundColor #35638F
    NBorderColor $INFO_DARK
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              White
}

skinparam legend {
	BackgroundColor White
	BorderColor #BABDBF
	FontColor #343A40
}


skinparam activity {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor White
  	DiamondBorderColor #BABDBF
	DiamondFontColor #BABDBF
}


skinparam participant {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam arrow {
	Thickness 2.5
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor White
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor White
	BoxBorderColor #868E96
	BoxFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor White
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor White
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor White
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor White
}


skinparam collections {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam control {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam entity {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam boundary {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam agent {
	BackgroundColor White
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor White
	BorderColor #033C73
	FontColor #033C73
}


skinparam artifact {
	BackgroundColor White
	BorderColor #868E96
	FontColor #868E96
}


skinparam component {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	
}


skinparam interface {
	BackgroundColor  White
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor White
  	BorderColor #DD5600
	FontColor #DD5600
}


skinparam node {
	BackgroundColor White
	BorderColor #343A40
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #343A40
}


skinparam database {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam class {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam object {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	BackgroundColor #F2FCFE-#eeeeee
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam folder {
	BackgroundColor White
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}



skinparam state {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #BABDBF
	AttributeFontSize 11
}


skinparam queue {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}


skinparam card {
	BackgroundColor White
	BorderColor #033C73
	FontColor #033C73
}


skinparam file {
	BackgroundColor White
	BorderColor #868E96
	FontColor #868E96
}


skinparam stack {
		FontColor #2683B9
	BorderColor #2683B9
	BackgroundColor White
}



hide stereotype

skinparam backgroundColor transparent
!pragma horizontalLineBetweenDifferentPackageAllowed

skinparam file<<NOTE>> {
	BorderThickness 0.5
    BackgroundColor LightYellow
	BorderColor LightSteelBlue
	FontColor SteelBlue
    FontSize 10
    ArrowColor LightSteelBlue
}
skinparam arrow<<NOTE>> {
    Color LightSteelBlue
}





skinparam node<<MULTITHREADED>>{
    FontColor #E47833
	BorderColor #E47833
	BackgroundColor White
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package<<CONTAINER>>{
    	BackgroundColor #eeeeee
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}
skinparam frame<<CONTAINER>>{
    	BackgroundColor #eeeeee
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam rectangle<<boundary>> {
    BackgroundColor #eeeeee
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
    BoxPadding 0
}

skinparam file<<docker_params>> {
    Shadowing True
    FontSize 10
}












skinparam nodesep 30
skinparam ranksep 20

skinparam Entity<<FINDREP>>{
    FontColor black
	BorderColor #6F42C1
	BackgroundColor #Yellow/Blue
}
skinparam Entity<<FAISS>>{
    FontColor black
	BorderColor #6F42C1
	BackgroundColor #Blue/White
}
skinparam arrow<<TEST>> {
	Thickness 1
	Color #73A839
	FontColor #343A40
}
skinparam arrow<<INTRA>> {
	Color #868E96
}






scale 1.2

actor "Admin GUI" as AdminRMQ_IN
Entity "Find Reply\nrequests" <<FINDREP>> as AdminPodComInterface
Entity "Git Repo" as GitRepo
Entity "Find Reply" <<FINDREP>> as FindReply
Entity "Bert Encoder" as AdminEncoder
Entity Faiss <<FAISS>>

    package AdminModule as AdminModule <<CONTAINER>> {
            rectangle "Docker Config" <<boundary>> as AdminModule_cfg {
                    

        file "- - =Variables - -\n==Mandatory\nRMQ_IP: <i>RMQ broker</i>\n                                GIT_SERVER: <i>Git server address</i>\n                                GIT_BRANCH: <i>Kingdom branch</i>\n                                DOMAIN: <i>Git DOMAIN</i>\n                                GIT_PROJECT: <i>Git project in $GIT_DOMAIN</i>\n                                TARGET: <i>Pod's destination (ex: prod, test ...)</i>\n===Optional\nRMQ_USER = ...\n                                RMQ_PASSWD = ...\n                                RMQ_EXCHANGE = <i>amq.topic</i>\n                                RMQ_TOPIC = <i>$GIT_DOMAIN.$GIT_PROJECT.$TARGET</i>\n                                ENCODER_QUEUE = <i>tbott-encoder</i>\n                                RMQ_PORT = <i>5672</i>\n                                LOG_LEVEL= <i>INFO</i>" <<docker_params>> as AdminModule_vars
                    

        file "- - =Volumes - -\n<b>logs</b> -> /var/log/supervisor\n                            <b>data_dir</b> -> /opt/admin" <<docker_params>> as AdminModule_vols
    
                AdminModule_vols -[hidden]U- AdminModule_vars
        } 
            frame "Pod communications" as AdminPodCom {
            component ADM_MSG [
                from [[http://10.165.64.205/AI/Messaging Messaging]] import zeromq
                - - - -
                <color:teal>zeromq.ThreadedWorker(</color>
                <color:teal>    <i><b>callback_func</b></i>,</color>
                <color:teal>    127.0.0.1,</color>
                <color:teal>    <b>14001</b>)</color>
                - - -
                ThreadPool
                ]
        }
        AdminPodComInterface o-l-> ADM_MSG<<request>>
        frame "Data Access" as AdminDataAccess {
            component AdminGetData [
                get_all_categories()
                - - - -
                get_questions_from_ids()
                ]
        }
        ADM_MSG o..> AdminGetData: Thread N
        ADM_MSG o..> AdminGetData: Thread N+1
       frame "Entry Point" as AdminEntryPoint {
            component ADMIN_MSG_C [
                from [[http://10.165.64.205/AI/Messaging Messaging]] import topic_routing
                - - - -
                <i><color:teal>backend_com(</color></i>
                <i><color:teal>host=<b>$RMQ_IP</b></color></i>
                <i><color:teal>username=$RMQ_USER</color></i>
                <i><color:teal>password=$RMQ_PASSWD</color></i>
                <i><color:teal>exchange=$RMQ_EXCHANGE</color></i>
                <i><color:teal>topic=$COMMAND_TOPIC</color></i>
                <i><color:teal>port=$RPC_PORT)</color></i>
                - - - -
                on_request(msg)
                ]
        }
        AdminRMQ_IN o-0)-> ADMIN_MSG_C: Get\nCommand\nmsg
        

        frame "Execute Command" as AdminExecCommand {
            [Topic routing] as AdminTopicRouting
            [result] as AdminRes
            [Test questions] as AdminMasterCmd
            [Master Election process] as AdminElectMaster
            [Checkout git project] as AdminCheckout
            [Get git differences] as AdminGetDiff
            [Create list of questions] as AdminCreateQuestions
            [Data augmentation\nwith N1 and N2\ncategories (or contexts)] as AdminDataAugment
            [Get vectors from Bert encoder] as AdminEncodeSent
            [Create/Update questions index] as AdminCreateIndex
            [Send command to create/update FAISS index] as FaissCmd
        }
            ADMIN_MSG_C -d-> AdminTopicRouting
            AdminRes -u-> ADMIN_MSG_C
        

            file "NB: if last msg < X mins\nthen GUI can send\ndirect messages\nfor tests" as AdminTopicRouting_note <<NOTE>>
    AdminTopicRouting .d. AdminTopicRouting_note<<NOTE>>
        AdminTopicRouting - -> AdminElectMaster<<INTRA>>: $DOMAIN.\n$PROJECT.\n$TARGET.\n#
        AdminElectMaster -l-> AdminMasterCmd<<TEST>>: tests
        AdminMasterCmd o-l-> FindReply<<TEST>>: tests
        AdminMasterCmd -u-> AdminRes<<TEST>>
        AdminTopicRouting - -> AdminMasterCmd<<TEST>>: $DOMAIN.\n$PROJECT.\n$TARGET.\nmaster
        AdminElectMaster - -> AdminCheckout<<INTRA>>: create/update
        AdminCheckout o-l-> GitRepo: git checkout
        AdminCheckout - -> AdminGetDiff<<INTRA>>
        AdminGetDiff - -> AdminCreateQuestions<<INTRA>>
        AdminCreateQuestions - -> AdminDataAugment<<INTRA>>
        AdminDataAugment - -> AdminEncodeSent<<INTRA>>
        AdminEncodeSent o-l0)-> AdminEncoder
        AdminEncodeSent - -> AdminCreateIndex<<INTRA>>
        AdminCreateIndex - -> FaissCmd<<INTRA>>
        FaissCmd -l-> Faiss
        FaissCmd ..u-> AdminRes<<INTRA>>
        

        database "Questions Index" as AdminIndex {
            frame "RWLockÂ¹" as AdminRWLock {
                 component "read" as admin_read
                    component "<b>write</b>\n<i>prioritized</i>" as admin_write
            }
        }
            AdminCreateIndex o-l-> admin_write
            AdminGetData o- -> admin_read
    
    

}
@enduml

PlantUML version 1.2020.08(Sun Apr 26 14:08:22 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-8u212-b01-1~deb9u1-b01
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>